# =====================================================
# KJ KHANDALA BUS MANAGEMENT SYSTEM - ENVIRONMENT VARIABLES
# =====================================================

# =====================================================
# SERVER CONFIGURATION
# =====================================================
PORT=3001
NODE_ENV=development
LOG_LEVEL=info

# =====================================================
# DATABASE
# =====================================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
SUPABASE_URL=https://dglzvzdyfnakfxymgnea.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRnbHp2emR5Zm5ha2Z4eW1nbmVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNzczNzAsImV4cCI6MjA3ODY1MzM3MH0.-LJB1n1dZAnIuDMwX2a9D7jCC7F_IN_FxRKbbSmMBls
SUPABASE_SERVICE_ROLE=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRnbHp2emR5Zm5ha2Z4eW1nbmVhIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MzA3NzM3MCwiZXhwIjoyMDc4NjUzMzcwfQ.JJLiN93FCDH-ASs2gHYoMX5s2vVqiPTVYzDn9CRG8fw

# =====================================================
# SECURITY & AUTHENTICATION
# =====================================================
# JWT Secret - MUST BE CHANGED IN PRODUCTION
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-use-64-byte-random-string
JWT_EXPIRES_IN=7d

# Session Secret (if using express-session)
SESSION_SECRET=your-session-secret-change-this-in-production

# =====================================================
# CORS CONFIGURATION
# =====================================================
# Frontend URL(s) - comma separated for multiple origins
CORS_ORIGIN=http://localhost:8080,http://localhost:5173

# =====================================================
# FILE UPLOAD
# =====================================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# =====================================================
# EMAIL CONFIGURATION (SMTP)
# =====================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@kjkhandala.com
SMTP_FROM_NAME=KJ Khandala Bus Services

# =====================================================
# SMS CONFIGURATION (Twilio or Local Provider)
# =====================================================
# Twilio (Recommended)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+267xxxxxxxx

# Alternative: Local SMS Provider (Botswana)
SMS_API_KEY=your-sms-api-key
SMS_API_URL=https://api.smsprovider.com/send
SMS_SENDER_ID=KJKHANDALA

# =====================================================
# PAYMENT GATEWAY - DPO PAY API v6
# =====================================================
# DPO Payment Gateway (Primary for Botswana)
# Get your credentials from: https://www.dpogroup.com/
# Documentation: https://www.dpogroup.com/documentation/

# REQUIRED: Your DPO Company Token (UUID format)
DPO_COMPANY_TOKEN=your-dpo-company-token-uuid

# REQUIRED: DPO Service Type ID (Ask DPO support for your service type)
# Common types: 45 = Transportation, 3854 = General Services
DPO_SERVICE_TYPE=45

# DPO API Endpoint (Production)
DPO_API_URL=https://secure.3gdirectpay.com/API/v6/

# DPO Payment Page URL (Production)
DPO_PAYMENT_URL=https://secure.3gdirectpay.com

# Default Payment Currency
DPO_PAYMENT_CURRENCY=BWP

# Frontend URL for payment redirects
FRONTEND_URL=http://localhost:5173

# Payment Time Limit (days)
DPO_PTL=5

# =====================================================
# ALTERNATIVE PAYMENT GATEWAYS (Optional)
# =====================================================
# Flutterwave (Alternative)
FLUTTERWAVE_PUBLIC_KEY=your-public-key
FLUTTERWAVE_SECRET_KEY=your-secret-key
FLUTTERWAVE_ENCRYPTION_KEY=your-encryption-key
FLUTTERWAVE_WEBHOOK_SECRET=your-webhook-secret

# =====================================================
# GOOGLE SERVICES
# =====================================================
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
GOOGLE_PLACES_API_KEY=your-google-places-api-key

# =====================================================
# CACHING & SESSION STORE (Optional but Recommended)
# =====================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_TLS=false

# =====================================================
# MONITORING & ERROR TRACKING
# =====================================================
# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# New Relic (Performance Monitoring)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=KJ-Khandala-Bus-API

# =====================================================
# CLOUD STORAGE (Optional - for file backups)
# =====================================================
# AWS S3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=kjkhandala-backups

# =====================================================
# RATE LIMITING
# =====================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_PAYMENT_MAX=10

# =====================================================
# WEBSOCKET CONFIGURATION
# =====================================================
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=60000

# =====================================================
# QUEUE PROCESSING
# =====================================================
QUEUE_PROCESS_INTERVAL=30000
QUEUE_MAX_RETRIES=3
QUEUE_CLEANUP_DAYS=7

# =====================================================
# BACKUP CONFIGURATION
# =====================================================
BACKUP_DIR=/var/backups/postgres
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"

# =====================================================
# FEATURE FLAGS
# =====================================================
ENABLE_REAL_TIME_TRACKING=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PAYMENT_GATEWAY=true
ENABLE_QUEUE_PROCESSING=true

# =====================================================
# DEVELOPMENT TOOLS
# =====================================================
# Prisma Studio
PRISMA_STUDIO_PORT=5555

# Debug Mode
DEBUG=false
VERBOSE_LOGGING=false
